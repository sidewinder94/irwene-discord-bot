@{
    ViewData["Title"] = "Home Page";
}

@using DiscordBot.Service.Enums
@using Discord
@using irwene_discord_bot_aspcore.Controllers
@model DiscordBot.Service.DiscordService

    <div class="text-center">
        <h1 class="display-4">Service Status</h1>
        <p style="@(Model.Status == ServiceStatus.Started ? "color: green;" : "color: red;")">
            @{
                if (Model.Status != ServiceStatus.Stopped)
                {
                    @Html.DisplayFor(model => model.Status)
                }
                else
                {
                    @Html.ActionLink(Model.Status.ToString(), "StartService", "Home", null,new { @style ="color:red;" })
                }

            }


        </p>
        
        @{
            if (Model.Status != ServiceStatus.Stopped)
            {
                <h1 class="display-4">Bot Status</h1>
 
                <p style="@(Model.Client != null && Model.Client.ConnectionState == ConnectionState.Connected ? "color: green;" : "color: red;")">
                    @Html.DisplayFor(model => model.Client.ConnectionState)
                </p>
            }
        }
        
    </div>
